<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Slow.jl</title><link rel="canonical" href="https://xzackli.github.io/Slow.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Slow.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xzackli/Slow.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Slow"><a class="docs-heading-anchor" href="#Slow">Slow</a><a id="Slow-1"></a><a class="docs-heading-anchor-permalink" href="#Slow" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/xzackli/Slow.jl">Slow</a>. This package attempts to address a tension between understandability and efficiency in scientific computing.</p><ul><li>The naive implementation of a scientific calculation in Julia is usually good enough. However, a factor of <span>$\sim 2-100$</span> in performance can be obtained by thinking about how modern computers work. For example – reducing allocations by keeping buffers around, making calculations cache-friendly, and grouping similar calculations with SIMD.</li><li>The naive implementation and the optimized numerical version can look very different. The optimized version is usually the one that people call from outside the package, but the naive implementation will resemble the equations in the paper.</li><li>It&#39;s useful to keep around the naive implementation. If you&#39;re developing some extension to the code, being able to start with a paste of the naive but correct implementation can be very handy. It&#39;s also informative for new contributors to packages.</li><li>It can be nice to write unit tests which compare the naive and fast implementations.</li></ul><p>This package exports <a href="#Slow.@slowdef-Tuple{Any}"><code>@slowdef</code></a> to define a slower, naive implementation of a function, and call it with <a href="#Slow.@slow-Tuple{Any}"><code>@slow</code></a>. Here&#39;s an example, where we implement a slow version of a function, and a fast version. </p><pre><code class="language-julia">using Slow

# fake naive implementation
@slowdef function f(x)
    sleep(1)  
    return sin(x)
end

# fake fast implementation
f(x) = sin(x)

@time @slow f(1.0)
@time f(1.0)</code></pre><p>The function definition <code>func(args...) = ...</code> prefaced by <a href="#Slow.@slowdef-Tuple{Any}"><code>@slowdef</code></a> is replaced with <code>func(::Slow.SlowImplementation, args...) = ...</code>. This is a shortcut for a common Julia multimethod pattern, where different implementations dispatch on the first argument. I think the magic number here is two (fast and slow) – if you have three implementations, you should probably just define your own multimethod type. This macro can help with development too – one common pattern of writing code is to (first) make it correct and (then) make it fast. By keeping separate fast and <a href="#Slow.@slow-Tuple{Any}"><code>@slow</code></a> implementations, one can more easily resist premature optimization and micro-optimizations.</p><p>If you&#39;re using the slow version in a complicated expression, you should use the macro <a href="#Slow.@slow-Tuple{Any}"><code>@slow</code></a> like a function and wrap the function call in parentheses, i.e.</p><pre><code class="language-julia">@slow(f(1.0)) + 1.0</code></pre><ul><li><a href="#Slow.@slow-Tuple{Any}"><code>Slow.@slow</code></a></li><li><a href="#Slow.@slowdef-Tuple{Any}"><code>Slow.@slowdef</code></a></li><li><a href="#Slow.@slowtest-Tuple{Any}"><code>Slow.@slowtest</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Slow.@slow-Tuple{Any}" href="#Slow.@slow-Tuple{Any}"><code>Slow.@slow</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@slow</code></pre><p>Call a slow version of a function that was defined with <a href="#Slow.@slowdef-Tuple{Any}"><code>@slowdef</code></a>. ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xzackli/Slow.jl/blob/d50ee9439f03250040c5214256688decdf6a759c/src/Slow.jl#L25-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Slow.@slowdef-Tuple{Any}" href="#Slow.@slowdef-Tuple{Any}"><code>Slow.@slowdef</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@slowdef</code></pre><p>Define a slow version of a function which can be called with <a href="#Slow.@slow-Tuple{Any}"><code>@slow</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xzackli/Slow.jl/blob/d50ee9439f03250040c5214256688decdf6a759c/src/Slow.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Slow.@slowtest-Tuple{Any}" href="#Slow.@slowtest-Tuple{Any}"><code>Slow.@slowtest</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">@slowtest</code></pre><p>Shortcut for <code>@test (@slow func(args...)) == func(args...)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xzackli/Slow.jl/blob/d50ee9439f03250040c5214256688decdf6a759c/src/Slow.jl#L42-L46">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 2 April 2021 20:16">Friday 2 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
